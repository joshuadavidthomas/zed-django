name: release

on:
  release:
    types: [published]

concurrency:
  group: release-${{ github.ref }}
  cancel-in-progress: true

permissions: {}

jobs:
  release:
    runs-on: ubuntu-latest
    environment: release
    steps:
      - name: Publish to Zed extensions repo
        uses: huacnlee/zed-extension-action@6a168731f1d994905eeb552b3b42b0cb6c4d12e6 # v1.0.0
        env:
          COMMITTER_TOKEN: ${{ secrets.COMMITTER_TOKEN }}
        with:
          extension-name: django
          push-to: joshuadavidthomas/extensions
