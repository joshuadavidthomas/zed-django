name: release

on:
  release:
    types: [published]

concurrency:
  group: release-${{ github.ref }}
  cancel-in-progress: true

permissions: {}

jobs:
  release:
    runs-on: ubuntu-latest
    environment: release
    steps:
      - name: Publish to Zed extensions repo
        uses: huacnlee/zed-extension-action@4e2e500ba7bcc8b4147b092e2f5a597fef267e70
        env:
          COMMITTER_TOKEN: ${{ secrets.COMMITTER_TOKEN }}
        with:
          extension-name: django
          push-to: joshuadavidthomas/extensions
